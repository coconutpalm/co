<!DOCTYPE html>
  <head> 

  </head>
<body>
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="public/lib/codemirror.js"></script>

<link rel="stylesheet" href="public/lib/codemirror.css">
<script src="http://cdn.peerjs.com/0.3/peer.min.js"></script>



<script src="public/elm.js"></script>
<script src="public/textAreaWoot.js"></script>
<script src="public/peerserver.js"> </script>




<style>
.other {
  color: "#7f00ff";
}
</style>
<div id="anchor"> </div>



<script>

var url = window.location.href;
var doc_name_url = url.substr(url.lastIndexOf('/') + 1);

var div = document.getElementById('anchor');
console.log("div", div);

var woot = Elm.embed(Elm.TUpdate, document.getElementById('anchor'), 
                          {
                            tUpdatePort: JSON.stringify({"type": "Insert", "cp": 1, "ch": "a"})
                            , windowLocPort: window.location.origin, incomingPeer: JSON.stringify({})
                          });





woot.ports.sendUpdatesPortPeer.subscribe(sendPeerUpdates);
woot.ports.docUpdatesPort.subscribe(docUpdate);

$(document).ready(function(e){
  setUpPeerServer(doc_name_url);
});

var colors =  ["#7f00ff", "#80ff00", "#ff8000"];
var userColors = {};

</script>
</body>
</html>
